import React, { useContext, useEffect } from "react";
import { gsap } from "gsap";
import { ShowScreen } from "../../Context/LoaderContext";

const Loader = () => {
  const { isloader, setisloader } = useContext(ShowScreen);
  useEffect(() => {
    const path = document.querySelector("#signature-path");
    if (!path) return;

    const length = path.getTotalLength();

    gsap.set(path, {
      strokeDasharray: length,
      strokeDashoffset: length,
      stroke: "#fff",
      strokeWidth: 1,
      fill: "none",
    });

    gsap.to(path, {
      strokeDashoffset: 0,
      duration: 3,
      ease: "power1.inOut",
      onComplete: () => {
        
        gsap.to(path, {
          opacity: 0,
          stroke: "#000",
          duration: 1,
          onComplete: () => {
          
            setisloader(false);
          },
        });
      },
    });
  }, []);
  return (
    <div className="w-screen h-screen flex items-center justify-center bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-[#11071F] via-[#2A0D3F] to-[#3B194F]">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 9.8 205.55 36.65"
        width="300"
        height="120"
      >
        <path
          id="signature-path"
          d="M26.35 45.75Q24.15 45.75 23.25 44.02Q22.35 42.30 22.35 40Q22.35 37.95 22.93 35.95Q23.50 33.95 24.30 32.90Q22.95 34.50 20.95 36.55Q18.95 38.60 16.55 40.50Q14.15 42.40 11.60 43.65Q9.05 44.90 6.55 44.90Q5.80 44.90 5.08 44.77Q4.35 44.65 3.65 44.35Q1.80 43.60 0.90 41.67Q0 39.75 0 37.05Q0 34.20 0.97 30.92Q1.95 27.65 3.85 24.25Q4.75 22.60 5.88 20.97Q7 19.35 8.30 17.90Q6.75 17.20 5.45 16.32Q4.15 15.45 3.25 14.40Q2.65 13.70 2.35 12.75Q2.05 11.80 2.05 10.90Q2.05 9.30 2.80 8.80Q3.05 8.40 3.40 8.40Q3.85 8.40 3.85 8.95Q3.85 9.30 3.65 9.70Q3.40 10.35 3.40 10.90Q3.40 11.70 3.80 12.37Q4.20 13.05 4.75 13.65Q6.35 15.55 9.15 16.80Q12.35 13.30 16.18 10.32Q20.00 7.35 24.40 5.55Q28.80 3.75 33.65 3.75Q37.70 3.75 40.00 5.52Q42.30 7.30 42.30 10.10Q42.30 11.45 41.50 13.02Q40.70 14.60 38.90 16.07Q37.10 17.55 34.13 18.62Q31.15 19.70 26.75 20.10Q25.20 20.25 23.98 20.32Q22.75 20.40 21.35 20.40Q18.75 20.40 16.33 20.05Q13.90 19.70 11.50 18.95Q10.60 20.20 9.22 22.35Q7.85 24.50 6.50 26.95Q5.15 29.40 4.25 31.60Q3.45 33.70 3.05 35.42Q2.65 37.15 2.65 38.50Q2.65 40.95 3.80 42.17Q4.95 43.40 6.90 43.40Q8.80 43.40 11.22 42.30Q13.65 41.20 16.30 39Q18.95 36.80 21.48 34.05Q24.00 31.30 26.10 28.45Q28.20 25.60 29.50 23.20Q30.35 21.60 31.15 20.92Q31.95 20.25 32.50 20.25Q33.05 20.25 33.35 20.67Q33.65 21.10 33.65 21.80Q33.65 23.20 32.40 24.60Q31.00 26.15 29.65 28.40Q28.30 30.65 27.25 33.15Q26.20 35.65 25.75 38.05Q25.60 38.85 25.55 39.55Q25.50 40.25 25.50 40.80Q25.50 42.65 26.08 43.45Q26.65 44.25 27.60 44.25Q28.75 44.25 30.25 43.20Q31.75 42.15 33.15 40.40Q34.35 38.80 35.48 37Q36.60 35.20 37.55 33.25Q37.70 32.90 37.98 32.72Q38.25 32.55 38.35 32.55Q38.60 32.55 38.60 32.85Q38.60 33.05 38.45 33.45Q38.00 34.45 37.25 35.85Q36.50 37.25 35.60 38.72Q34.70 40.20 33.75 41.45Q32.45 43.15 30.48 44.45Q28.50 45.75 26.35 45.75M20.90 19.20Q23.50 19.20 26.70 18.90Q30.85 18.55 33.90 17.25Q36.95 15.95 38.60 13.95Q40.25 11.95 40.25 9.50Q40.25 7.30 38.43 6.15Q36.60 5.00 33.80 5.00Q29.15 5.00 25.33 6.82Q21.50 8.65 18.33 11.60Q15.15 14.55 12.30 17.95Q16.10 19.20 20.90 19.20ZM84.95 49.90Q81.20 49.75 79.43 47.92Q77.65 46.10 77.65 43Q77.65 40.40 78.85 36.90Q79.30 35.60 80.28 33.47Q81.25 31.35 82.50 28.70Q83.75 26.05 85.10 23.25Q86.45 20.45 87.63 17.80Q88.80 15.15 89.63 13.02Q90.45 10.90 90.65 9.60Q90.70 9.35 90.70 9.17Q90.70 9.00 90.70 8.80Q90.70 7.65 90.05 7.12Q89.40 6.60 88.40 6.60Q86.80 6.60 84.50 7.70Q81.75 9.00 78.88 11.32Q76 13.65 73.25 16.95Q70.65 20.10 68.38 23.77Q66.10 27.45 64.18 31.20Q62.25 34.95 60.65 38.38Q59.05 41.80 57.80 44.35Q57.45 45.05 56.63 45.42Q55.80 45.80 55.05 45.80Q54.40 45.80 53.95 45.52Q53.50 45.25 53.65 44.70Q54.40 43.60 55.70 41.22Q57.00 38.85 58.53 35.65Q60.05 32.45 61.60 28.82Q63.15 25.20 64.43 21.57Q65.70 17.95 66.40 14.75Q66.90 12.55 66.90 10.65Q66.90 7.15 65.28 5.67Q63.65 4.20 61.10 4.20Q58.80 4.20 56.05 5.20Q53.30 6.20 50.60 7.90Q46.25 10.55 43.40 14.07Q40.55 17.60 39.15 21.22Q37.75 24.85 37.75 27.95Q37.75 31.20 39.33 33.35Q40.90 35.50 44.00 35.50Q46.65 35.50 48.88 34.40Q51.10 33.30 52.73 31.55Q54.35 29.80 55.25 27.90Q56.15 26.00 56.15 24.40Q56.15 22.95 55.35 22.02Q54.55 21.10 52.75 21.10Q52.55 21.10 52.35 21.12Q52.15 21.15 51.90 21.15L51.75 21.15Q51.30 21.15 51.30 20.90Q51.30 20.45 51.80 20.35Q53.10 20.05 54.05 20.05Q56.10 20.05 57.08 21.15Q58.05 22.25 58.05 23.95Q58.05 25.75 57.03 27.92Q56.00 30.10 54.13 32.02Q52.25 33.95 49.65 35.20Q47.05 36.45 43.90 36.45Q41.50 36.45 39.40 35.27Q37.30 34.10 36.03 31.90Q34.75 29.70 34.75 26.60Q34.75 25.05 35.10 23.32Q35.45 21.60 36.25 19.75Q37.45 16.85 39.60 14.25Q41.75 11.65 44.48 9.47Q47.20 7.30 50.05 5.75Q52.55 4.35 55.45 3.52Q58.35 2.70 61.00 2.70Q63.40 2.70 65.40 3.50Q67.40 4.30 68.58 6.07Q69.75 7.85 69.75 10.80Q69.75 11.30 69.73 11.75Q69.70 12.20 69.60 12.85Q69.30 15.75 68.03 18.72Q66.75 21.70 65.45 24.50Q64.75 26.05 64.45 26.75Q64.15 27.45 64.15 27.55Q64.15 27.65 64.43 27.20Q64.70 26.75 65.08 26.10Q65.45 25.45 65.75 25.00Q66.90 23.20 68.55 20.90Q70.20 18.60 72.35 16.00Q75.15 12.60 78.28 9.75Q81.40 6.90 84.30 5.55Q85.60 4.95 87 4.60Q88.40 4.25 89.65 4.25Q91.65 4.25 93.15 5.27Q94.65 6.30 94.60 9.00Q94.60 11.25 93.53 14.00Q92.45 16.75 90.73 19.95Q89 23.15 87 26.80Q85 30.45 83.15 34.50Q81.80 37.40 81.18 39.88Q80.55 42.35 80.55 44.20Q80.55 46.25 81.35 47.42Q82.15 48.60 83.65 48.60Q84.75 48.60 86.10 47.95Q86.55 47.70 86.93 47.63Q87.30 47.55 87.50 47.55Q88.25 47.55 88.25 48.10Q88.25 48.65 87.35 49.30Q86.45 49.95 84.95 49.90ZM114.35 45.75Q112.15 45.75 111.25 44.02Q110.35 42.30 110.35 40Q110.35 37.95 110.93 35.95Q111.50 33.95 112.30 32.90Q110.95 34.50 108.95 36.55Q106.95 38.60 104.55 40.50Q102.15 42.40 99.60 43.65Q97.05 44.90 94.55 44.90Q93.80 44.90 93.08 44.77Q92.35 44.65 91.65 44.35Q89.80 43.60 88.90 41.67Q88.00 39.75 88.00 37.05Q88.00 34.20 88.98 30.92Q89.95 27.65 91.85 24.25Q92.75 22.60 93.88 20.97Q95.00 19.35 96.30 17.90Q94.75 17.20 93.45 16.32Q92.15 15.45 91.25 14.40Q90.65 13.70 90.35 12.75Q90.05 11.80 90.05 10.90Q90.05 9.30 90.80 8.80Q91.05 8.40 91.40 8.40Q91.85 8.40 91.85 8.95Q91.85 9.30 91.65 9.70Q91.40 10.35 91.40 10.90Q91.40 11.70 91.80 12.37Q92.20 13.05 92.75 13.65Q94.35 15.55 97.15 16.80Q100.35 13.30 104.18 10.32Q108.00 7.35 112.40 5.55Q116.80 3.75 121.65 3.75Q125.70 3.75 128 5.52Q130.30 7.30 130.30 10.10Q130.30 11.45 129.50 13.02Q128.70 14.60 126.90 16.07Q125.10 17.55 122.13 18.62Q119.15 19.70 114.75 20.10Q113.20 20.25 111.98 20.32Q110.75 20.40 109.35 20.40Q106.75 20.40 104.33 20.05Q101.90 19.70 99.50 18.95Q98.60 20.20 97.23 22.35Q95.85 24.50 94.50 26.95Q93.15 29.40 92.25 31.60Q91.45 33.70 91.05 35.42Q90.65 37.15 90.65 38.50Q90.65 40.95 91.80 42.17Q92.95 43.40 94.90 43.40Q96.80 43.40 99.23 42.30Q101.65 41.20 104.30 39Q106.95 36.80 109.48 34.05Q112.00 31.30 114.10 28.45Q116.20 25.60 117.50 23.20Q118.35 21.60 119.15 20.92Q119.95 20.25 120.50 20.25Q121.05 20.25 121.35 20.67Q121.65 21.10 121.65 21.80Q121.65 23.20 120.40 24.60Q119.00 26.15 117.65 28.40Q116.30 30.65 115.25 33.15Q114.20 35.65 113.75 38.05Q113.60 38.85 113.55 39.55Q113.50 40.25 113.50 40.80Q113.50 42.65 114.08 43.45Q114.65 44.25 115.60 44.25Q116.75 44.25 118.25 43.20Q119.75 42.15 121.15 40.40Q122.35 38.80 123.48 37Q124.60 35.20 125.55 33.25Q125.70 32.90 125.98 32.72Q126.25 32.55 126.35 32.55Q126.60 32.55 126.60 32.85Q126.60 33.05 126.45 33.45Q126.00 34.45 125.25 35.85Q124.50 37.25 123.60 38.72Q122.70 40.20 121.75 41.45Q120.45 43.15 118.48 44.45Q116.50 45.75 114.35 45.75M108.90 19.20Q111.50 19.20 114.70 18.90Q118.85 18.55 121.90 17.25Q124.95 15.95 126.60 13.95Q128.25 11.95 128.25 9.50Q128.25 7.30 126.43 6.15Q124.60 5.00 121.80 5.00Q117.15 5.00 113.33 6.82Q109.50 8.65 106.33 11.60Q103.15 14.55 100.30 17.95Q104.10 19.20 108.90 19.20ZM141.05 47.15Q136.15 47.15 132.08 45.70Q128 44.25 125.50 41.42Q123 38.60 122.75 34.45Q122.65 32.75 123.30 30.70Q123.95 28.65 125.13 26.62Q126.30 24.60 127.93 22.97Q129.55 21.35 131.40 20.50Q131.55 20.40 131.88 20.35Q132.20 20.30 132.35 20.30Q132.65 20.30 132.65 20.45Q132.65 20.70 131.90 21.25Q129.80 22.90 128.45 25.05Q127.05 27.20 126.35 29.65Q125.65 32.10 125.65 34.60Q125.65 37.55 126.93 39.67Q128.20 41.80 130.35 43.17Q132.50 44.55 135.25 45.20Q138 45.85 141 45.85Q144.35 45.85 147.63 45.10Q150.90 44.35 153.60 42.95Q157.75 40.75 160.18 37.50Q162.60 34.25 162.60 31.05Q162.60 29.35 161.88 27.80Q161.15 26.25 159.55 25.00Q158.35 24.05 156.63 23.20Q154.90 22.35 152.98 21.55Q151.05 20.75 149.20 19.92Q147.35 19.10 145.95 18.15Q143.95 16.80 143.03 15.25Q142.10 13.70 142.10 12.15Q142.10 10.30 143.18 8.55Q144.25 6.80 146.13 5.37Q148 3.95 150.35 3.15Q152.40 2.45 154.83 2.05Q157.25 1.65 159.60 1.65Q161.55 1.65 163.33 1.92Q165.10 2.20 166.45 2.90Q168.15 3.70 169.05 5.02Q169.95 6.35 169.95 7.80Q169.95 9.80 168.15 11.30Q167.50 11.80 166.70 12.22Q165.90 12.65 164.80 12.95Q164.60 13.00 164.35 13.00Q163.75 13.00 163.75 12.65Q163.75 12.45 164.08 12.22Q164.40 12.00 165.05 11.95Q166.55 11.75 167.33 10.80Q168.10 9.85 168.10 8.60Q168.10 7.30 167.23 6.02Q166.35 4.75 164.55 3.87Q162.75 3.00 159.95 3.00Q158.35 3.00 156.43 3.35Q154.50 3.70 152.25 4.50Q149.50 5.45 147.68 7.30Q145.85 9.15 145.85 11.25Q145.85 12.55 146.73 13.87Q147.60 15.20 149.55 16.40Q151.20 17.40 153.30 18.37Q155.40 19.35 157.55 20.32Q159.70 21.30 161.45 22.40Q164.20 24.10 165.40 26.05Q166.60 28.00 166.60 30.05Q166.60 32.45 165.18 34.88Q163.75 37.30 161.45 39.42Q159.15 41.55 156.40 43.20Q153.20 45.10 149.18 46.13Q145.15 47.15 141.05 47.15Z"
        />
      </svg>
    </div>
  );
};

export default Loader;
